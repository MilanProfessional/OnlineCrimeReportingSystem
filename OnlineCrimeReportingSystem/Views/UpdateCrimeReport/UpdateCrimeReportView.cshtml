@model OnlineCrimeReportingSystem.Models.Crime
@{
    ViewBag.Title = "Update Crime Report - ";
    Layout = "~/Views/Shared/_Layout.cshtml";

    string error = ViewData["error"] as string;
}

<div class="contact1" style="z-index:0;">
    <div class="container-contact1">
        <div class="contact1-pic js-tilt" data-tilt>
            <img src="~/images/img-01.png" alt="IMG">
        </div>

        @if (string.IsNullOrEmpty(error))
        {
            <form class="contact1-form validate-form" method="post" enctype="multipart/form-data" action="~/UpdateCrimeReport/UpdateCrimeReportOfDatabase">
                <span class="contact1-form-title">
                    <h2><tt><b>Update your Reported Crime.</b></tt></h2>
                </span>

                <input type="hidden" value="@Model.ReportingDate" name="ReportingDate" />
                <input type="hidden" value="@Model.Files" name="Files" />

                <input type="hidden" value="@Model.Id" name="Id" />
                <div class="wrap-input1 validate-input" data-validate="Name is required">
                    <input class="input1" type="text" name="Name" placeholder="Name" value="@Model.Name">
                    <span class="shadow-input1"></span>
                </div>

                <div class="wrap-input1 validate-input" data-validate="Name is required">
                    <input class="input1" type="text" name="CriminalName" placeholder="Criminal Name, if you know!" value="@Model.CriminalName">
                    <span class="shadow-input1"></span>
                </div>

                <div class="wrap-input1 validate-input" data-validate="Valid email is required: ex@abc.xyz">
                    <input class="input1" type="text" name="Email" placeholder="Email" value="@Model.Email">
                    <span class="shadow-input1"></span>
                </div>

                <div class="wrap-input1 validate-input" data-validate="Subject is required">
                    <select id="Subject" class="form-control input1" name="Subject">
                        <option selected>@Model.Subject </option>
                        <option value="Rape">Rape</option>
                        <option value="Cyber Crime">Cyber Crime</option>
                        <option value="Fight">Fight</option>
                        <option value="Robbery">Robbery</option>
                        <option value="Drug Abuse">Drug Abuse</option>
                        <option value="Homicides">Homicides</option>
                        <option value="Fraud">Fraud</option>
                        <option value="Hit and Run">Hit and Run</option>
                        <option value="Missing Person">Missing Person</option>
                        <option value="Other">Other...Please Describe Below</option>
                    </select>
                    <span class="shadow-input1"></span>
                </div>

                <div id="showDiv" class="wrap-input1 validate-input">
                    <input class="input1" id="other" type="text" name="Other" placeholder="Other please specify here" value="@Model.Subject">
                    <span class="shadow-input1"></span>
                </div>

                <div class="wrap-input1 validate-input" data-validate="Location is required">
                    <input class="input1" name="Location" type="text" placeholder="Exact crime location(State, District, Municipality,..,..)" value="@Model.Location">
                    <span class="shadow-input1"></span>
                </div>

                <div class="wrap-input1 validate-input" data-validate="Date is required">
                    @*<input class="input1" name="CrimeDate" type="date" value="@Model.CrimeDate">*@
                    @*@Html.TextBoxFor(model => model.CrimeDate, new { type = "date" })*@
                    @Html.TextBoxFor(x => x.CrimeDate, "{0:yyyy-MM-dd}", new { @class = "input1", @type = "date" })
                    <span class="shadow-input1"></span>
                </div>

                <div class="wrap-input1 validate-input" data-validate="Message is required">
                    <textarea class="input1" name="message" placeholder="Message">@Model.Message</textarea>
                    <span class="shadow-input1"></span>
                </div>

                <div class="wrap-input1">
                    <input class="input1" type="file" name="file" placeholder="Upload your Photo">
                    <span class="shadow-input1"></span>
                </div>

                <div class="row">
                    <div class="col-xs-6 col-sm-6 col-md-6">
                        <input type="submit" class="btn btn-lg btn-success btn-block" value="Submit">
                    </div>
                    <div class="col-xs-6 col-sm-6 col-md-6">

                        <button type="reset" class="btn btn-success btn-block btn-lg "> Cancel </button>
                    </div>
                </div>


            </form>

        }
        else
        {
            <h1 style="color: red">You are not allowed to edit other's crime report </h1>
        }


    </div>
</div>

<script>

    $(document).ready(function () {
        $("#showDiv").hide();
        $("#Subject").change(function () {
            var value = $(this).val();
            if (value === "Other") {
                $("#showDiv").show();
            }
        });
    });

</script>
